@page
@using Movies_SeriesWebsite.Models
@model Movies_SeriesWebsite.Pages.MoviesListModel
@{
    ViewData["Title"] = "Movies";
}

<h1>Movies List</h1>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addMovieModal">Add Movie</button>

<div class="modal fade" id="addMovieModal" tabindex="-1" aria-labelledby="addMovieModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addMovieModalLabel">Add Movie</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addMovieForm">
                    <div class="mb-3">
                        <label for="movieName" class="form-label">Movie Name:</label>
                        <input type="text" class="form-control" id="movieName" name="movieName" required>
                    </div>
                    <div class="mb-3">
                        <label for="year" class="form-label">Year:</label>
                        <input type="number" class="form-control" id="year" name="year" min="1900" max="2100" required>
                    </div>
                    <div class="mb-3">
                        <label for="own" class="form-label">Own:</label>
                    </div>
                    <div class="mb-3">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="own" id="ownYes" value="Yes" required>
                            <label class="form-check-label" for="ownYes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="own" id="ownNo" value="No" required>
                            <label class="form-check-label" for="ownNo">No</label>
                        </div>
                    </div>


                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>



<table class="table mt-5">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Year</th>
            <th scope="col">Own</th>
            <th scope="col" style="text-align: right;">Delete</th>
        </tr>
    </thead>

    <tbody>
    @foreach (var movie in Model.MoviesList)
        {
            <tr>
                <td>@movie.movieName</td>
                <td>@movie.year</td>
                <td>@(movie.own ? "Yes" : "No")</td>
                <td style="text-align: right;">
                    <form method="post" asp-page-handler="Delete" asp-route-id="@movie.id">
                        <button class="btn btn-danger">Delete</button>
                    </form>
                </td>
                
            </tr>
        }
    </tbody>
</table>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}